(this.webpackJsonpjolo=this.webpackJsonpjolo||[]).push([[10],{242:function(e,t,n){"use strict";var r=n(237),a=n.n(r),s=n(238),c=n(48),o=n(38),i=n(0);function u(e){return e.status>=200&&e.status<300?p(e):e.json().then((function(e){return Promise.reject(e)}))}function p(e){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.headers){e.next=9;break}if("application/json"!==t.headers.get("Content-Type")){e.next=5;break}return e.next=4,t.json();case 4:return e.abrupt("return",e.sent);case 5:if("text/plain;charset=UTF-8"!==t.headers.get("Content-Type")){e.next=9;break}return e.next=8,t.text();case 8:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(e,t){var n=function(e){return"https://n.snpp.link/api/v1"+("/"!==e[0]?"/".concat(e):e)}(e),r=t;if(r.headers=r.headers||{},"formdata"===r.type)for(var a in r.body=new FormData,t.data)"string"===typeof a&&t.data.hasOwnProperty(a)&&"undefined"!==typeof t.data[a]&&r.body.append(a,t.data[a]);else r.body=JSON.stringify(t.data),r.headers["Content-Type"]="application/json",r.headers.Accept="application/json";var s=JSON.parse(window.localStorage.getItem("user"));return s&&s.token&&(r.headers.Authorization="Bearer ".concat(s.token)),fetch(n,Object(o.a)({},r)).then(u).then(p)},j=function(e,t){switch(t.type){case"FETCH_INIT":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0,error:null,response:null});case"FETCH_SUCCESS":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,error:null,response:t.payload});case"FETCH_FAILURE":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,error:t.payload,response:null});default:return e}};t.a=function(e){var t=Object(i.useReducer)(j,{isLoading:!1,error:null,response:null}),n=Object(c.a)(t,2),r=n[0],o=n[1];function u(){return(u=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o({type:"FETCH_INIT"}),t.next=4,d(n.url,n);case 4:r=t.sent,e&&e.onSuccess&&e.onSuccess(r),o({type:"FETCH_SUCCESS",payload:r}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("here",t.t0),e&&e.onError&&e.onError(t.t0),o({type:"FETCH_FAILURE",payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return[r,function(e){return u.apply(this,arguments)}]}},278:function(e,t,n){},305:function(e,t,n){"use strict";n.r(t);var r=n(38),a=n(237),s=n.n(a),c=n(238),o=n(48),i=n(0),u=n(242),p=n(114),l=n(16),d=n(312),j=n(282),b=n(283),h=n(296),f=n(299),O=n(314),y=n(225),m=(n(278),n(6)),x=d.a.Title,g={wrapperCol:{span:24}};t.default=function(){var e=Object(u.a)(),t=Object(o.a)(e,2),n=t[0],a=n.response,d=n.isLoading,v=n.error,w=t[1],T=Object(p.a)(),C=Object(o.a)(T,1)[0],E=Object(l.g)(),F=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({url:"login",method:"POST",data:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){a&&(C("user",a),E.push("./dashboard"))}),[a]),Object(i.useEffect)((function(){console.log(v)}),[v]),Object(m.jsx)("div",{className:"auth-container",children:Object(m.jsxs)(j.a,{children:[Object(m.jsx)(b.a,{span:24,children:Object(m.jsx)(x,{level:2,children:"Login"})}),Object(m.jsx)(b.a,{span:24,className:"login-form",children:Object(m.jsxs)(h.a,Object(r.a)(Object(r.a)({},g),{},{name:"basic",onFinish:F,onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(m.jsx)(h.a.Item,{name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(m.jsx)(f.a,{placeholder:"Username"})}),Object(m.jsx)(h.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(m.jsx)(f.a.Password,{placeholder:"Password"})}),Object(m.jsx)(h.a.Item,{children:Object(m.jsx)(O.b,{size:"middle",children:Object(m.jsx)(y.a,{type:"primary",htmlType:"submit",loading:d,children:"Log in"})})})]}))})]})})}}}]);
//# sourceMappingURL=10.9e08d96f.chunk.js.map